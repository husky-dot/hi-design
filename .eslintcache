[{"F:\\HiProject\\hi-design\\src\\components\\AutoComplete\\autoComplete.stories.tsx":"1","F:\\HiProject\\hi-design\\src\\components\\Button\\button.stories.tsx":"2","F:\\HiProject\\hi-design\\src\\components\\Input\\input.stories.tsx":"3","F:\\HiProject\\hi-design\\src\\components\\Menu\\menu.stories.tsx":"4","F:\\HiProject\\hi-design\\src\\components\\Upload\\upload.stories.tsx":"5","F:\\HiProject\\hi-design\\src\\components\\AutoComplete\\autoComplete.tsx":"6","F:\\HiProject\\hi-design\\src\\hooks\\useClickOutside.tsx":"7","F:\\HiProject\\hi-design\\src\\hooks\\useDebounce.tsx":"8","F:\\HiProject\\hi-design\\src\\components\\Icon\\icon.tsx":"9","F:\\HiProject\\hi-design\\src\\components\\Input\\input.tsx":"10","F:\\HiProject\\hi-design\\src\\components\\Transition\\transition.tsx":"11","F:\\HiProject\\hi-design\\src\\components\\Menu\\menuItem.tsx":"12","F:\\HiProject\\hi-design\\src\\components\\Upload\\upload.tsx":"13","F:\\HiProject\\hi-design\\src\\components\\Button\\button.tsx":"14","F:\\HiProject\\hi-design\\src\\components\\Menu\\menu.tsx":"15","F:\\HiProject\\hi-design\\src\\components\\Upload\\uploadList.tsx":"16","F:\\HiProject\\hi-design\\src\\components\\Upload\\dragger.tsx":"17","F:\\HiProject\\hi-design\\src\\components\\Progress\\progress.tsx":"18","F:\\HiProject\\hi-design\\src\\components\\Dialog\\dislog.stories.tsx":"19","F:\\HiProject\\hi-design\\src\\components\\Dialog\\dialog.tsx":"20","F:\\HiProject\\hi-design\\src\\components\\Icon\\index.tsx":"21","F:\\HiProject\\hi-design\\src\\utils\\classes.tsx":"22","F:\\HiProject\\hi-design\\src\\components\\Button\\index.tsx":"23","F:\\HiProject\\hi-design\\src\\components\\Layout\\layout.stories.tsx":"24","F:\\HiProject\\hi-design\\src\\components\\Layout\\layout.tsx":"25","F:\\HiProject\\hi-design\\src\\components\\Layout\\header.tsx":"26","F:\\HiProject\\hi-design\\src\\components\\Layout\\content.tsx":"27","F:\\HiProject\\hi-design\\src\\components\\Layout\\footer.tsx":"28","F:\\HiProject\\hi-design\\src\\components\\Layout\\aside.tsx":"29","F:\\HiProject\\hi-design\\src\\components\\Form\\form.stories.tsx":"30","F:\\HiProject\\hi-design\\src\\components\\Form\\form.tsx":"31","F:\\HiProject\\hi-design\\src\\components\\Input\\index.tsx":"32","F:\\HiProject\\hi-design\\src\\components\\Form\\validator.tsx":"33"},{"size":2080,"mtime":1612792578522,"results":"34","hashOfConfig":"35"},{"size":1150,"mtime":1612712192346,"results":"36","hashOfConfig":"35"},{"size":1899,"mtime":1612666597027,"results":"37","hashOfConfig":"35"},{"size":778,"mtime":1612624353580,"results":"38","hashOfConfig":"35"},{"size":1563,"mtime":1612756136662,"results":"39","hashOfConfig":"35"},{"size":4456,"mtime":1612688807010,"results":"40","hashOfConfig":"35"},{"size":518,"mtime":1612687003638,"results":"41","hashOfConfig":"35"},{"size":412,"mtime":1612684516805,"results":"42","hashOfConfig":"35"},{"size":807,"mtime":1612666426426,"results":"43","hashOfConfig":"35"},{"size":2160,"mtime":1613146821870,"results":"44","hashOfConfig":"35"},{"size":833,"mtime":1612582693409,"results":"45","hashOfConfig":"35"},{"size":913,"mtime":1612499596841,"results":"46","hashOfConfig":"35"},{"size":5893,"mtime":1612769323143,"results":"47","hashOfConfig":"35"},{"size":1772,"mtime":1613146781512,"results":"48","hashOfConfig":"35"},{"size":2233,"mtime":1612623728711,"results":"49","hashOfConfig":"35"},{"size":1555,"mtime":1612751169039,"results":"50","hashOfConfig":"35"},{"size":905,"mtime":1612755733069,"results":"51","hashOfConfig":"35"},{"size":942,"mtime":1612750937942,"results":"52","hashOfConfig":"35"},{"size":2066,"mtime":1613223535893,"results":"53","hashOfConfig":"35"},{"size":3687,"mtime":1613146802803,"results":"54","hashOfConfig":"35"},{"size":48,"mtime":1612767281839,"results":"55","hashOfConfig":"35"},{"size":150,"mtime":1613110138299,"results":"56","hashOfConfig":"35"},{"size":54,"mtime":1612767199366,"results":"57","hashOfConfig":"35"},{"size":1498,"mtime":1613203259442,"results":"58","hashOfConfig":"35"},{"size":863,"mtime":1613181777884,"results":"59","hashOfConfig":"35"},{"size":484,"mtime":1613177609447,"results":"60","hashOfConfig":"35"},{"size":490,"mtime":1613181671931,"results":"61","hashOfConfig":"35"},{"size":484,"mtime":1613177607348,"results":"62","hashOfConfig":"35"},{"size":480,"mtime":1613178233762,"results":"63","hashOfConfig":"35"},{"size":2817,"mtime":1613351827585,"results":"64","hashOfConfig":"35"},{"size":2680,"mtime":1613311360408,"results":"65","hashOfConfig":"35"},{"size":51,"mtime":1612767320629,"results":"66","hashOfConfig":"35"},{"size":2711,"mtime":1613315145974,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"71"},"zjwd2u",{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"80","usedDeprecatedRules":"71"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"71"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"71"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"71"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"128","usedDeprecatedRules":"71"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"131","usedDeprecatedRules":"71"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"134","usedDeprecatedRules":"71"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"137","messages":"138","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"139","usedDeprecatedRules":"71"},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"144"},"F:\\HiProject\\hi-design\\src\\components\\AutoComplete\\autoComplete.stories.tsx",["145","146","147"],"import React from 'react';\r\nimport { Story, Meta } from '@storybook/react/types-6-0';\r\nimport { action } from '@storybook/addon-actions'\r\nimport {AutoComplete, AutoCompleteProps} from './autoComplete';\r\nimport \"../../styles/index.scss\"\r\n\r\n\r\ninterface LakerPlayerProps {\r\n  value: string;\r\n  number: number;\r\n}\r\n\r\nexport default {\r\n  title: 'Example/AutoComplete',\r\n  component: AutoComplete\r\n} as Meta;\r\n\r\nconst SimpleCompleteTmp: Story<AutoCompleteProps> = (args) => {\r\n    const lakers = ['bradley', 'pope', 'caruso', 'cook', 'cousins','james', 'AD', 'green', 'howard', 'kuzma', 'McGee', 'rando']\r\n\r\n  const lakersWithNumber = [\r\n    {value: 'bradley', number: 11},\r\n    {value: 'pope', number: 1},\r\n    {value: 'caruso', number: 4},\r\n    {value: 'cook', number: 2},\r\n    {value: 'cousins', number: 15},\r\n    {value: 'james', number: 23},\r\n    {value: 'AD', number: 3},\r\n    {value: 'green', number: 14},\r\n    {value: 'howard', number: 39},\r\n    {value: 'kuzma', number: 0},\r\n  ]\r\n\r\n    // const handleFetch = (query:string) => {\r\n    //  return  lakers.filter(name => name.includes(query)).map(name => ({value: name}))\r\n    // }\r\n\r\n    const handleFetch = (query: string) => {\r\n      return fetch(`https://api.github.com/search/users?q=${query}`)\r\n        .then(res => res.json())\r\n        .then(({ items }) => {\r\n          return items.slice(0, 10).map((item: any) => ({ value: item.login, ...item}))\r\n        })\r\n    }\r\n\r\n    // const handleFetch = (query:string) => {\r\n    //  return  lakersWithNumber.filter(player => player.value.includes(query))\r\n    // }\r\n\r\n    // const renderOption = (item: DataSourceType<LakerPlayerProps>) => {\r\n    //   return (\r\n    //     <>\r\n    //      <h2>Name: {item.value}</h2>\r\n    //      <h2>Number: {item.number}</h2>\r\n    //     </>\r\n    //   )\r\n    // }\r\n\r\n    return (\r\n      <AutoComplete \r\n        fetchSuggestions={handleFetch}\r\n        onSelect={action('selected')}\r\n        // renderOption={renderOption}\r\n      />\r\n    )\r\n}\r\nexport const SimpleComplete = SimpleCompleteTmp.bind({});\r\nSimpleComplete.storyName = 'AutoComplete';\r\n",["148","149"],"F:\\HiProject\\hi-design\\src\\components\\Button\\button.stories.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Input\\input.stories.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Menu\\menu.stories.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Upload\\upload.stories.tsx",["150","151"],"import React from 'react';\r\nimport { Story, Meta } from '@storybook/react/types-6-0';\r\n\r\nimport { action } from '@storybook/addon-actions'\r\nimport { Upload, UploadProps} from './upload'\r\nimport \"../../styles/index.scss\"\r\nimport { UploadFile } from './upload'\r\nimport Icon from '../Icon/icon'\r\n\r\nconst defaultFileList: UploadFile[] = [\r\n  { uid: '123', size: 1234, name: 'hello.md', status: 'uploading', percent: 30 },\r\n  { uid: '122', size: 1234, name: 'xyz.md', status: 'success', percent: 30 },\r\n  { uid: '121', size: 1234, name: 'eyiha.md', status: 'error', percent: 30 }\r\n]\r\n\r\n\r\nexport default {\r\n  title: 'Example/Upload',\r\n  component: Upload\r\n} as Meta;\r\n\r\nconst checkFileSize = (file: File) => {\r\n  if (Math.round(file.size / 1024) > 5000) {\r\n    alert('file too big')\r\n    return false;\r\n  }\r\n  return true\r\n}\r\n\r\nconst filePromise = (file: File) => {\r\n  const newFile = new File([file], 'new_name.docx', { type: file.type })\r\n  return Promise.resolve(newFile)\r\n}\r\nconst SimpleUploadTmp: Story<UploadProps> = (args) => (\r\n  <Upload \r\n    action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n    onChange={action('changed')}\r\n    defaultFileList={defaultFileList}\r\n    onRemove={action('removed')}\r\n    name='fileName'\r\n    data={{'key': 'value'}}\r\n    headers={{'X-Powered-By': 'hiship'}}\r\n    accept=\".jpg\"\r\n    multiple\r\n    drag\r\n  >\r\n    <Icon icon=\"upload\" size=\"5x\" theme=\"secondary\" />\r\n    <br/>\r\n    <p>Drag file over to upload</p>\r\n\r\n  </Upload>\r\n)\r\nexport const SimpleUpload = SimpleUploadTmp.bind({});\r\nSimpleUpload.storyName = 'Upload';","F:\\HiProject\\hi-design\\src\\components\\AutoComplete\\autoComplete.tsx",[],"F:\\HiProject\\hi-design\\src\\hooks\\useClickOutside.tsx",[],"F:\\HiProject\\hi-design\\src\\hooks\\useDebounce.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Icon\\icon.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Input\\input.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Transition\\transition.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Menu\\menuItem.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Upload\\upload.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Button\\button.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Menu\\menu.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Upload\\uploadList.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Upload\\dragger.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Progress\\progress.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Dialog\\dislog.stories.tsx",["152"],"import React, { useState } from 'react';\r\nimport { Story, Meta } from '@storybook/react/types-6-0';\r\nimport Dialog, { DialogProps, Alert, Confirm, Model} from './dialog'\r\nimport Button from '../Button'\r\nimport { action } from '@storybook/addon-actions';\r\nexport default {\r\n  title: 'Example/Dialog',\r\n  component: Dialog\r\n} as Meta;\r\n\r\nconst defaultDialogTmp: Story<DialogProps> = (args) => {\r\n  return (\r\n    <div>\r\n      <Dialog {...args}>\r\n        <strong>HI2</strong>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\nexport const defaultDialog = defaultDialogTmp.bind({});\r\ndefaultDialog.storyName = 'Dialog';\r\ndefaultDialog.args = {\r\n  visible: true\r\n}\r\n\r\nconst diyFooterTmp: Story<DialogProps> = (args) => {\r\n  return (\r\n    <div>\r\n      <Dialog {...args} buttons={\r\n        [\r\n          <Button>1</Button>,\r\n          <Button>2</Button>\r\n        ]\r\n      }>\r\n        <strong>HI</strong>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\nexport const diyFooterDialog = diyFooterTmp.bind({});\r\ndiyFooterDialog.storyName = '自定义底部 Dialog';\r\ndiyFooterDialog.args = {\r\n  visible: true\r\n}\r\n\r\n\r\nconst alertTmp: Story<DialogProps> = (args) => {\r\n  return (\r\n    <Button onClick={() => Alert('你好')}>Alert</Button>\r\n  )\r\n}\r\n\r\nexport const alertTmpDialog = alertTmp.bind({});\r\nalertTmpDialog.storyName = 'Alert';\r\n\r\n\r\nconst confirmTmp: Story<DialogProps> = (args) => {\r\n  return (\r\n    <Button onClick={() => Confirm('你好', action('yes'), action('no'))}>\r\n      Confirm\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport const comfirmDialog = confirmTmp.bind({});\r\ncomfirmDialog.storyName = 'Confirm';\r\ncomfirmDialog.parameters = {\r\n  info: {\r\n    source: false\r\n  }\r\n}\r\n\r\nconst modelTmp: Story<DialogProps> = (args) => {\r\n  const openModel = () => {\r\n    const close = Model(<h1>你好\r\n      <Button onClick={() => { close() }}>关闭</Button>\r\n    </h1>)\r\n  }\r\n  return (\r\n    <Button onClick={openModel}>\r\n      Model\r\n    </Button>\r\n  )\r\n}\r\n\r\nexport const modelDialog = modelTmp.bind({});\r\nmodelDialog.storyName = 'Model';\r\nmodelDialog.parameters = {\r\n  info: {\r\n    source: false\r\n  }\r\n}\r\n","F:\\HiProject\\hi-design\\src\\components\\Dialog\\dialog.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Icon\\index.tsx",[],"F:\\HiProject\\hi-design\\src\\utils\\classes.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Button\\index.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Layout\\layout.stories.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Layout\\layout.tsx",["153"],"import * as React from 'react';\r\nimport { scopedClassMaker } from '../../utils/classes';\r\nimport classNames from 'classnames';\r\nimport Aside from './aside';\r\nconst sc = scopedClassMaker('hi-layout')\r\n\r\nexport interface LayoutProps extends React.HTMLAttributes<HTMLElement>{\r\n  children: React.ReactElement | Array<React.ReactElement>\r\n}\r\nexport const Layout:React.FC<LayoutProps> = (props) => {\r\n  const {\r\n    className,\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  let hasAside = false\r\n  if ((children as Array<React.ReactElement>).length) {\r\n    (children as Array<React.ReactElement>).map(node => {\r\n      if (node.type === Aside) {\r\n        hasAside = true\r\n      }\r\n    })\r\n  }\r\n  return (\r\n    <div className={classNames(sc(), className, {[sc('hasAside')] : hasAside})} {...restProps}>\r\n      {children}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Layout;","F:\\HiProject\\hi-design\\src\\components\\Layout\\header.tsx",["154"],"import * as React from 'react';\r\nimport { scopedClassMaker } from '../../utils/classes';\r\nimport classNames from 'classnames';\r\nconst sc = scopedClassMaker('hi-layout')\r\n\r\nexport interface Props extends React.HTMLAttributes<HTMLElement>{\r\n\r\n}\r\nexport const Header:React.FC<Props> = (props) => {\r\n  const {\r\n    className,\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  return (\r\n    <div className={classNames(sc('header'), className)}>Header</div>\r\n  )\r\n}\r\n\r\nexport default Header;","F:\\HiProject\\hi-design\\src\\components\\Layout\\content.tsx",["155"],"import * as React from 'react';\r\nimport { scopedClassMaker } from '../../utils/classes';\r\nimport classNames from 'classnames';\r\nconst sc = scopedClassMaker('hi-layout')\r\n\r\nexport interface Props extends React.HTMLAttributes<HTMLElement>{\r\n\r\n}\r\nexport const Content:React.FC<Props> = (props) => {\r\n  const {\r\n    className,\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  return (\r\n    <div className={classNames(sc('content'), className)}>Content</div>\r\n  )\r\n}\r\n\r\nexport default Content;\r\n","F:\\HiProject\\hi-design\\src\\components\\Layout\\footer.tsx",["156"],"import * as React from 'react';\r\nimport { scopedClassMaker } from '../../utils/classes';\r\nimport classNames from 'classnames';\r\nconst sc = scopedClassMaker('hi-layout')\r\nexport interface Props extends React.HTMLAttributes<HTMLElement>{\r\n\r\n}\r\n\r\nexport const Footer:React.FC<Props> = (props) => {\r\n  const {\r\n    className,\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  return (\r\n    <div className={classNames(sc('footer'), className)}>Footer</div>\r\n  )\r\n}\r\n\r\nexport default Footer;","F:\\HiProject\\hi-design\\src\\components\\Layout\\aside.tsx",["157"],"import * as React from 'react';\r\nimport { scopedClassMaker } from '../../utils/classes';\r\nimport classNames from 'classnames';\r\nconst sc = scopedClassMaker('hi-layout')\r\nexport interface Props extends React.HTMLAttributes<HTMLElement>{\r\n\r\n}\r\n\r\nexport const Aside:React.FC<Props> = (props) => {\r\n  const {\r\n    className,\r\n    children,\r\n    ...restProps\r\n  } = props\r\n  return (\r\n    <div className={classNames(sc('aside'), className)}>Aside</div>\r\n  )\r\n}\r\n\r\nexport default Aside;","F:\\HiProject\\hi-design\\src\\components\\Form\\form.stories.tsx",["158"],"F:\\HiProject\\hi-design\\src\\components\\Form\\form.tsx",["159","160","161","162"],"import * as React from 'react';\r\nimport { FC } from 'react';\r\nimport Input from '../Input'\r\nimport classNames from 'classnames'\r\n\r\nexport interface FormValue {\r\n  [K: string] : any\r\n}\r\n\r\nexport interface FormProps {\r\n  value: FormValue;\r\n  fields: Array<{name: string, label: string, input: {type: string}}>;\r\n  buttons: React.ReactFragment,\r\n  onSubmit: React.FormEventHandler<HTMLFormElement>,\r\n  onChange: (value: FormValue) => void,\r\n  errors: { [K: string] : string[]},\r\n  errorsDisplayMode: 'first' | 'all',\r\n  transformError?: (message: string) => string;\r\n}\r\n\r\nexport const Form:FC<FormProps> = (props) =>{\r\n  const {\r\n    value,\r\n    fields,\r\n    onSubmit,\r\n    onChange,\r\n    errors,\r\n    buttons\r\n  } = props\r\n  \r\n  const handleSubmit:React.FormEventHandler<HTMLFormElement> = (e) => {\r\n    e.preventDefault()\r\n    onSubmit(e)\r\n  }\r\n  const onInputChange = (name:string, value: string ) => {\r\n    const newFormValue = {\r\n      ...props.value,\r\n      [name]: value\r\n    }\r\n    onChange(newFormValue)\r\n  }\r\n  const transformError = (message: string) => {\r\n    const map: any = {\r\n      required: '必填',\r\n      minLength: '太短',\r\n      maxLength: '太长',\r\n    };\r\n    return props.transformError && props.transformError(message) || map[message] || '未知错误';\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <table className=\"hi-form-table\">\r\n        <tbody>\r\n          {fields && fields.map(f => \r\n              <tr className={classNames('hi-form-tr')} key={f.name}>\r\n                <td className={classNames('hi-form-td')}>\r\n                  <span className=\"hi-form-label\">\r\n                    {f.label}\r\n                  </span>\r\n                </td>\r\n                <td className={classNames('hi-form-td')}>\r\n                  <Input type={f.input.type} value={value[f.name]}\r\n                    onChange={(e) => {\r\n                      onInputChange(f.name, e.target.value)\r\n                    }}\r\n                  />\r\n                <div className=\"fui-form-error\">{\r\n                  props.errors[f.name] ?\r\n                    (props.errorsDisplayMode === 'first' ?\r\n                      transformError!(props.errors[f.name][0]) : props.errors[f.name].map(transformError!).join()) :\r\n                    <span>&nbsp;</span>\r\n                } </div>\r\n                </td>\r\n              </tr>  \r\n            )}\r\n        </tbody>\r\n        <tr className=\"hi-form-tr\">\r\n          <td className=\"hi-form-td\"/>\r\n          <td className=\"hi-form-td\">\r\n            {props.buttons}\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </form>\r\n  )\r\n}\r\n\r\nForm.defaultProps = {\r\n  errorsDisplayMode: 'first'\r\n}\r\n\r\nexport default Form;","F:\\HiProject\\hi-design\\src\\components\\Input\\index.tsx",[],"F:\\HiProject\\hi-design\\src\\components\\Form\\validator.tsx",["163","164"],"import {FormValue} from './form';\r\n\r\ninterface FormRule {\r\n  key: string;\r\n  required?: boolean;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  pattern?: RegExp;\r\n  validator?: (value: string) => Promise<string>\r\n}\r\n\r\ntype FormRules = Array<FormRule>\r\n\r\nfunction isEmpty(value: any) {\r\n  return value === undefined || value === null || value === '';\r\n}\r\n\r\nexport function noError(errors: any) {\r\n  return Object.keys(errors).length === 0;\r\n}\r\n\r\ntype OneError = string | Promise<string>;\r\n\r\nconst Validator = (formValue: FormValue, rules: FormRules, callback: (errors: any) => void): void => {\r\n  let errors: { [key: string]: OneError[] } = {};\r\n  const addError = (key: string, error: OneError) => {\r\n    if (errors[key] === undefined) {\r\n      errors[key] = [];\r\n    }\r\n    errors[key].push(error);\r\n  };\r\n  rules.map(rule => {\r\n    const value = formValue[rule.key];\r\n    if (rule.validator) {\r\n      const promise = rule.validator(value);\r\n      addError(rule.key, promise);\r\n    }\r\n    if (rule.required && isEmpty(value)) {\r\n      addError(rule.key, 'required');\r\n    }\r\n    if (rule.minLength && !isEmpty(value) && value!.length < rule.minLength) {\r\n      addError(rule.key, 'minLength');\r\n    }\r\n    if (rule.maxLength && !isEmpty(value) && value!.length > rule.maxLength) {\r\n      addError(rule.key, 'maxLength');\r\n    }\r\n    if (rule.pattern) {\r\n      if (!(rule.pattern.test(value))) {\r\n        addError(rule.key, 'pattern');\r\n      }\r\n    }\r\n  });\r\n  function hasError(item: [string, undefined] | [string, string]): item is [string, string] {\r\n    return typeof item[1] === 'string';\r\n  }\r\n  const flattenErrors = flat(Object.keys(errors).map(\r\n    key => errors[key].map<[string, OneError]>(error => [key, error]))\r\n  );\r\n  const newPromises = flattenErrors.map(\r\n    ([key, promiseOrString]) => {\r\n      const promise = (promiseOrString instanceof Promise ? promiseOrString : Promise.reject(promiseOrString));\r\n      return promise.then<[string, undefined], [string, string]>(() => [key, undefined], (reason) => [key, reason]);\r\n    }\r\n  );\r\n  Promise.all(newPromises).then(results => {\r\n    callback(zip(results.filter<[string, string]>(hasError)));\r\n  });\r\n};\r\nexport default Validator;\r\n\r\nfunction flat<T>(array: Array<T | T[]>) {\r\n  const result: T[] = [];\r\n  for (let i = 0; i < array.length; i++) {\r\n    if (array[i] instanceof Array) {\r\n      result.push(...array[i] as T[]);\r\n    } else {\r\n      result.push(array[i] as T);\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nfunction zip(kvList: Array<[string, string]>) {\r\n  const result: { [key: string]: string[] } = {};\r\n  kvList.map(([key, value]) => {\r\n    result[key] = result[key] || [];\r\n    result[key].push(value);\r\n  });\r\n  return result;\r\n}",{"ruleId":"165","severity":1,"message":"166","line":8,"column":11,"nodeType":"167","messageId":"168","endLine":8,"endColumn":27},{"ruleId":"165","severity":1,"message":"169","line":19,"column":11,"nodeType":"167","messageId":"168","endLine":19,"endColumn":17},{"ruleId":"165","severity":1,"message":"170","line":21,"column":9,"nodeType":"167","messageId":"168","endLine":21,"endColumn":25},{"ruleId":"171","replacedBy":"172"},{"ruleId":"173","replacedBy":"174"},{"ruleId":"165","severity":1,"message":"175","line":22,"column":7,"nodeType":"167","messageId":"168","endLine":22,"endColumn":20},{"ruleId":"165","severity":1,"message":"176","line":30,"column":7,"nodeType":"167","messageId":"168","endLine":30,"endColumn":18},{"ruleId":"165","severity":1,"message":"177","line":1,"column":17,"nodeType":"167","messageId":"168","endLine":1,"endColumn":25},{"ruleId":"178","severity":1,"message":"179","line":18,"column":54,"nodeType":"180","messageId":"181","endLine":18,"endColumn":56},{"ruleId":"165","severity":1,"message":"182","line":13,"column":8,"nodeType":"167","messageId":"168","endLine":13,"endColumn":17},{"ruleId":"165","severity":1,"message":"182","line":13,"column":8,"nodeType":"167","messageId":"168","endLine":13,"endColumn":17},{"ruleId":"165","severity":1,"message":"182","line":13,"column":8,"nodeType":"167","messageId":"168","endLine":13,"endColumn":17},{"ruleId":"165","severity":1,"message":"182","line":13,"column":8,"nodeType":"167","messageId":"168","endLine":13,"endColumn":17},{"ruleId":"165","severity":1,"message":"183","line":3,"column":10,"nodeType":"167","messageId":"168","endLine":3,"endColumn":16},{"ruleId":"165","severity":1,"message":"184","line":27,"column":5,"nodeType":"167","messageId":"168","endLine":27,"endColumn":11},{"ruleId":"165","severity":1,"message":"185","line":28,"column":5,"nodeType":"167","messageId":"168","endLine":28,"endColumn":12},{"ruleId":"186","severity":1,"message":"187","line":48,"column":33,"nodeType":"188","messageId":"189","endLine":48,"endColumn":35},{"ruleId":"186","severity":1,"message":"187","line":48,"column":66,"nodeType":"188","messageId":"189","endLine":48,"endColumn":68},{"ruleId":"178","severity":1,"message":"179","line":32,"column":18,"nodeType":"180","messageId":"181","endLine":32,"endColumn":20},{"ruleId":"178","severity":1,"message":"179","line":85,"column":29,"nodeType":"180","messageId":"181","endLine":85,"endColumn":31},"@typescript-eslint/no-unused-vars","'LakerPlayerProps' is defined but never used.","Identifier","unusedVar","'lakers' is assigned a value but never used.","'lakersWithNumber' is assigned a value but never used.","no-native-reassign",["190"],"no-negated-in-lhs",["191"],"'checkFileSize' is assigned a value but never used.","'filePromise' is assigned a value but never used.","'useState' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'restProps' is assigned a value but never used.","'action' is defined but never used.","'errors' is assigned a value but never used.","'buttons' is assigned a value but never used.","no-mixed-operators","Unexpected mix of '&&' and '||'.","LogicalExpression","unexpectedMixedOperator","no-global-assign","no-unsafe-negation"]